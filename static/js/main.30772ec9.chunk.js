(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5293:function(e,t,a){e.exports=a(5321)},5298:function(e,t,a){},5304:function(e,t,a){},5321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),c=(a(5298),a(23)),l=a(24),s=a(28),p=a(25),d=a(29),u=a(60),m=a(61),y=(a(5304),a(32)),h=a.n(y),g=a(38);h.a.accessToken="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA";var f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).state={layersInMap:[],lng:-80,lat:40.438,zoom:11},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.lng,n=t.lat,r=t.zoom,o=new h.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/light-v10",center:[a,n],zoom:r});this._map=o,o.addControl(new h.a.NavigationControl),o.on("load",function(){this.addHeatMap()}.bind(this)),o.on("move",function(){var t=o.getCenter(),a=t.lng,n=t.lat;e.setState({lng:a.toFixed(4),lat:n.toFixed(4),zoom:o.getZoom().toFixed(2)})})}},{key:"componentDidUpdate",value:function(){this.updateMapLayers()}},{key:"updateMapLayers",value:function(e){this.deleteLayers(),this.addLayers()}},{key:"deleteLayers",value:function(){for(var e=0;e<this.state.layersInMap.length;e++)this._map.getSource(this.state.layersInMap[e].id)&&(this._map.removeLayer(this.state.layersInMap[e].id),this._map.removeSource(this.state.layersInMap[e].id)),this._map.getSource(this.state.layersInMap[e].id+"_outline")&&(this._map.removeLayer(this.state.layersInMap[e].id+"_outline"),this._map.removeSource(this.state.layersInMap[e].id+"_outline"))}},{key:"addLayers",value:function(){for(var e=0;e<this.props.layers.length;e++){var t=this.props.layers[e];t.source?this.addVectorLayer(t):this.addLayerByType(this.props.layers[e])}this.state.layersInMap=this.props.layers}},{key:"addLayerByType",value:function(e){switch(e.features?e.features[0].geometry.type:e.geometry.type){case"Polygon":case"MultiPolygon":this.addPolygonLayer(e);break;case"MultiLineString":this.addLineLayer(e);break;case"Point":this.addPointLayer(e);break;default:console.log("Unidentified layer type!!"+e.type)}}},{key:"addHeatMap",value:function(){var e=this._map;e.addSource("trees",{type:"vector",url:"mapbox://ninath93.5kp4zadi"}),e.addLayer({id:"trees-heat","source-layer":"trees-dhgc50",type:"heatmap",source:"trees",maxzoom:15,paint:{"heatmap-weight":{property:"dbh",type:"exponential",stops:[[1,0],[62,1]]},"heatmap-intensity":{stops:[[11,1],[15,3]]},"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(236,222,239,0)",.2,"rgb(208,209,230)",.4,"rgb(166,189,219)",.6,"rgb(103,169,207)",.8,"rgb(28,144,153)"],"heatmap-radius":{stops:[[11,15],[15,20]]},"heatmap-opacity":{default:1,stops:[[14,1],[15,0]]}}},"waterway-label"),e.addLayer({id:"trees-point",type:"circle",source:"trees","source-layer":"trees-dhgc50",minzoom:14,paint:{"circle-radius":{property:"dbh",type:"exponential",stops:[[{zoom:15,value:1},5],[{zoom:15,value:62},10],[{zoom:22,value:1},20],[{zoom:22,value:62},50]]},"circle-color":{property:"dbh",type:"exponential",stops:[[0,"rgba(236,222,239,0)"],[10,"rgb(236,222,239)"],[20,"rgb(208,209,230)"],[30,"rgb(166,189,219)"],[40,"rgb(103,169,207)"],[50,"rgb(28,144,153)"],[60,"rgb(1,108,89)"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[14,0],[15,1]]}}},"waterway-label"),e.on("click","trees-point",function(t){(new h.a.Popup).setLngLat(t.features[0].geometry.coordinates).setHTML('<div class = "line"><b>Garbage type:</b>'+t.features[0].properties.dbh+'</div><div class ="line"><b>Time detected: </b></div>').addTo(e)})}},{key:"addPointLayer",value:function(e){this._map.addLayer({id:e.id,type:"circle",source:{type:"geojson",data:e},layout:{visibility:e.visible},paint:{"circle-radius":5,"circle-color":e.fillColor,"circle-opacity":1}})}},{key:"addLineLayer",value:function(e){this._map.addLayer({id:e.name,type:"line",source:{type:"geojson",data:e},layout:{visibility:e.visible},paint:{"line-color":e.borderColor,"line-opacity":1,"line-width":2}})}},{key:"addPolygonLayer",value:function(e){var t=this._map;t.addLayer({id:e.id,type:"fill",source:{type:"geojson",data:e},layout:{visibility:e.visible},paint:{"fill-color":e.fillColor,"fill-opacity":e.fillOpacity}}),t.addLayer({id:e.id+"_outline",type:"line",source:{type:"geojson",data:e},layout:{visibility:e.visible},paint:{"line-color":e.borderColor,"line-opacity":1,"line-width":1}})}},{key:"addVectorLayer",value:function(e){this._map.addLayer({id:e.id,type:"fill",source:{type:"vector",url:e.source},"source-layer":e.sourceLayer,layout:{visibility:e.visible},paint:{"fill-color":e.fillColor,"fill-opacity":e.fillOpacity}})}},{key:"render",value:function(){var e=this,t=this.state;t.lng,t.lat,t.zoom;return r.a.createElement("div",{className:"map",ref:function(t){return e.mapContainer=t}})}}]),t}(n.Component),b={addLayer:function(e){return{type:"ADD_LAYER",layer:e}}},v=Object(g.b)(function(e){return{layers:e.layers}},b)(f),k=a(5341),w=a(5347),E=a(6),j=a(72),L=a(40),O=a(5340),x=a(39),S=Object(j.a)({palette:{primary:{light:"#69696a",main:"#28282a",dark:"#1e1e1f"},secondary:{light:"#fff5f8",main:"#ff3366",dark:"#e62958"},warning:{main:"#ffc071",dark:"#ffb25e"},error:{xLight:L.a[50],main:L.a[500],dark:L.a[700]},success:{xLight:O.a[50],dark:O.a[700]}},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700,fontFamilySecondary:"'Roboto Condensed', sans-serif"}}),z={color:S.palette.text.primary,fontWeight:S.typography.fontWeightMedium,fontFamily:S.typography.fontFamilySecondary,textTransform:"uppercase"},C=Object(E.a)({},S,{palette:Object(E.a)({},S.palette,{background:Object(E.a)({},S.palette.background,{default:S.palette.common.white,placeholder:x.a[200]})}),typography:Object(E.a)({},S.typography,{fontHeader:z,h1:Object(E.a)({},S.typography.h1,z,{letterSpacing:0,fontSize:60}),h2:Object(E.a)({},S.typography.h2,z,{fontSize:48}),h3:Object(E.a)({},S.typography.h3,z,{fontSize:42}),h4:Object(E.a)({},S.typography.h4,z,{fontSize:36}),h5:Object(E.a)({},S.typography.h5,{fontSize:20,fontWeight:S.typography.fontWeightLight}),h6:Object(E.a)({},S.typography.h6,z,{fontSize:18}),subtitle1:Object(E.a)({},S.typography.subtitle1,{fontSize:18}),body1:Object(E.a)({},S.typography.body2,{fontWeight:S.typography.fontWeightRegular,fontSize:16}),body2:Object(E.a)({},S.typography.body1,{fontSize:14})})});var I=function(e){return function(t){return r.a.createElement(k.a,{theme:C},r.a.createElement(w.a,null),r.a.createElement(e,t))}},M=a(27),_=a(9),N=a(5346),T=Object(_.a)(function(e){return{root:{borderRadius:0,fontWeight:e.typography.fontWeightMedium,fontFamily:e.typography.fontFamilySecondary,padding:e.spacing(2,4),fontSize:e.typography.pxToRem(14),boxShadow:"none","&:active, &:focus":{boxShadow:"none"}},sizeSmall:{padding:e.spacing(1,3),fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:e.spacing(2,5),fontSize:e.typography.pxToRem(16)}}})(N.a),D=a(73),A=a(14),W=a(5342),R={h1:"h1",h2:"h1",h3:"h1",h4:"h1",h5:"h3",h6:"h2",subtitle1:"h3"};function H(e){var t=e.children,a=e.classes,n=e.marked,o=e.variant,i=Object(D.a)(e,["children","classes","marked","variant"]);return r.a.createElement(W.a,Object.assign({variantMapping:R,variant:o},i),t,n?r.a.createElement("span",{className:a["marked".concat(Object(A.a)(o)+Object(A.a)(n))]}):null)}H.defaultProps={marked:!1};var F=Object(_.a)(function(e){return{markedH2Center:{height:4,width:73,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH3Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH4Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH6Left:{height:2,width:28,display:"block",marginTop:e.spacing(.5),background:"currentColor"}}})(H),P=a(5),B=a(5343);var Y=Object(_.a)(function(e){return{root:Object(M.a)({color:e.palette.common.white,position:"relative",display:"flex",alignItems:"center"},e.breakpoints.up("sm"),{height:"95vh",minHeight:500,maxHeight:1300}),container:{marginTop:e.spacing(3),marginBottom:e.spacing(14),display:"flex",flexDirection:"column",alignItems:"center"},backdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.5,zIndex:-1},background:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2},arrowDown:{position:"absolute",bottom:e.spacing(4)}}})(function(e){var t=e.backgroundClassName,a=e.children,n=e.classes;return r.a.createElement("section",{className:n.root},r.a.createElement(B.a,{className:n.container},a,r.a.createElement("div",{className:n.backdrop}),r.a.createElement("div",{className:Object(P.a)(n.background,t)}),r.a.createElement("img",{className:n.arrowDown,src:"/images/productHeroArrowDown.png",height:"16",width:"12",alt:"arrow down"})))}),U="https://3c1703fe8d.site.internapcdn.net/newman/gfx/news/hires/2018/2-plasticpollu.jpg";var G=Object(_.a)(function(e){return{background:{backgroundImage:"url(".concat(U,")"),backgroundColor:"#7fc7d9",backgroundPosition:"center"},button:{minWidth:200},h5:Object(M.a)({marginBottom:e.spacing(4),marginTop:e.spacing(4)},e.breakpoints.up("sm"),{marginTop:e.spacing(10)}),more:{marginTop:e.spacing(2)}}})(function(e){var t=e.classes;return r.a.createElement(Y,{backgroundClassName:t.background},r.a.createElement("img",{style:{display:"none"},src:U,alt:""}),r.a.createElement(F,{color:"inherit",align:"center",variant:"h2",marked:"center"},"Garbage finder"),r.a.createElement(F,{color:"inherit",align:"center",variant:"h5",className:t.h5},"Help collecting garbage today"),r.a.createElement(T,{color:"secondary",variant:"contained",size:"large",className:t.button,component:"a",onClick:e.clickHandler},"I'm in"))}),J=a(5344),X=a(42);var V=Object(_.a)(function(e){return{root:{display:"flex",overflow:"hidden",backgroundColor:e.palette.secondary.light},container:{marginTop:e.spacing(15),marginBottom:e.spacing(30),display:"flex",position:"relative"},item:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0,5)},image:{height:55},title:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},curvyLines:{pointerEvents:"none",position:"absolute",top:-180}}})(function(e){var t=e.classes;return r.a.createElement("section",{className:t.root},r.a.createElement(B.a,{className:t.container},r.a.createElement("img",{src:"/images/appCurvyLines.png",className:t.curvyLines,alt:"curvy lines"}),r.a.createElement(J.a,{container:!0,spacing:5},r.a.createElement(J.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(X.c,{fontSize:"large"}),r.a.createElement(F,{variant:"h6",className:t.title},"Locate"),r.a.createElement(F,{variant:"h5"},"From the latest trendy boutique hotel to the iconic palace with XXL pool",", go for a mini-vacation just a few subway stops away from your home."))),r.a.createElement(J.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(X.b,{fontSize:"large"}),r.a.createElement(F,{variant:"h6",className:t.title},"Collect"),r.a.createElement(F,{variant:"h5"},"Privatize a pool, take a Japanese bath or wake up in 900m2 of garden\u2026 ","your Sundays will not be alike."))),r.a.createElement(J.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(X.a,{fontSize:"large"}),r.a.createElement(F,{variant:"h6",className:t.title},"Earn"),r.a.createElement(F,{variant:"h5"},"By registering, you will access specially negotiated rates ","that you will not find anywhere else."))))))}),Z=I(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.viewMap=function(){alert("viewMap")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{clickHandler:this.props.clickHandler}),r.a.createElement(V,null))}}]),t}(r.a.Component));function Q(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  min-height: 100vh;\n  align-items: stretch;\n"]);return Q=function(){return e},e}var q=m.a.div(Q()),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).viewMap=function(){a.setState({showMap:!0})},a.isLoggedIn=function(){return a.state.showMap},a.state={showMap:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.isLoggedIn()?r.a.createElement(q,null,r.a.createElement(v,null)):r.a.createElement(Z,{clickHandler:this.viewMap}))}}]),t}(n.Component),K=a(26),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ae=a(49),ne=[],re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LAYER":return[].concat(Object(ae.a)(e.slice(0,e.length)),[t.layer],Object(ae.a)(e.slice(e.length)));case"DELETE_LAYER":return e.filter(function(e){return e.id!=t.layer});case"UPDATE_LAYER_FILL":return e.map(function(e){return e.id===t.layerID?Object(E.a)({},e,{fillColor:t.fillColor}):e});case"UPDATE_LAYER_BORDER":return e.map(function(e){return e.id===t.layerID?Object(E.a)({},e,{borderColor:t.borderColor}):e});case"UPDATE_LAYER_VISIBILITY":return e.map(function(e){return e.id===t.layerID?Object(E.a)({},e,{visible:t.visibility}):e});case"UPDATE_LAYER_NAME":return e.map(function(e){return e.id===t.layerID?Object(E.a)({},e,{name:t.name}):e});case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(E.a)({},e,{completed:!e.completed}):e});default:return e}},oe=Object(K.b)({layers:re}),ie=Object(K.c)(oe);i.a.render(r.a.createElement(g.a,{store:ie},r.a.createElement($,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Garbagefinder",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/Garbagefinder","/service-worker.js");ee?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):te(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):te(e)})}}()}},[[5293,1,2]]]);
//# sourceMappingURL=main.30772ec9.chunk.js.map